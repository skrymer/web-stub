<div class="row" ng-controller="StubManagementController" >
    <div class="col-md-9">
        <pre id="editor"></pre>
    </div>
    <div class="col-md-3 ">
        <div class="panel panel-default">
            <div class="panel-heading">Stub</div>
            <ul class="nav nav-list">
                <select id="selectStub">
                    <option ng-repeat="stub in stubs" ng-click="setActiveStub($index)">{{stub.name}}</option>
                </select>
            </ul>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">Active script</div>
            <ul class="nav nav-list">
                <select id="selectActiveScript">
                    <option ng-repeat="script in activeStub.scripts" ng-click="setActiveScript($index)">{{script.name}}</option>
                </select>
            </ul>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">Script editing</div>
            <ul class="nav nav-list">
                <select id="scriptEditing">
                    <option data-ng-repeat="script in activeStub.scripts" ng-click="editScript(script)">{{script.name}}</option>
                </select>
            </ul>
            <div>
                <button type="button" class="btn btn-default btn-lg" ng-click="saveScript()">
                    <span class="glyphicon glyphicon-save">save</span>
                </button>
            </div>
        </div>
        <div>
            <button type="button" class="btn btn-default btn-lg" ng-click="deleteActiveStub()">
                <span class="glyphicon glyphicon-remove">delete</span>
            </button>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        configureEditor()
    });

    function configureEditor() {
        var editor = ace.edit("editor");

        editor.setTheme("ace/theme/xcode");
        editor.getSession().setMode("ace/mode/groovy");
        editor.commands.addCommand({
            name: 'save',
            bindKey: {win: 'Ctrl-S',  mac: 'Command-M'},
            exec: function() {
                saveScript();
            },
            readOnly: false
        });
        document.getElementById('editor').style.fontSize='16px';
    }

</script>
